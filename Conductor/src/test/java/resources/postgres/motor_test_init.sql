DROP TABLE IF EXISTS users;
DROP TABLE IF EXISTS files;

CREATE EXTENSION IF NOT EXISTS "uuid-ossp";

CREATE TABLE users (
    id UUID PRIMARY KEY NOT NULL UNIQUE DEFAULT uuid_generate_v4(),
    first_name VARCHAR(30) NOT NULL,
    last_name VARCHAR(30) NOT NULL,
    email VARCHAR(50) NOT NULL UNIQUE,
    password CHAR(60) NOT NULL,
    role VARCHAR(20),
    created_at TIMESTAMPTZ DEFAULT NOW(),
    updated_at TIMESTAMPTZ DEFAULT NOW());

CREATE TABLE files (
    id UUID PRIMARY KEY NOT NULL UNIQUE DEFAULT uuid_generate_v4(),
    name TEXT,
    type TEXT,
    file TEXT,
    author TEXT NOT NULL,
    added_by UUID REFERENCES users(id),
    added_at TIMESTAMPTZ DEFAULT NOW(),
    CONSTRAINT type_check CHECK (type IN ('SDF', 'SPECTRUM', 'DEPT90', 'DEPT135')));

INSERT INTO users (id, first_name, last_name, email, password, role)
VALUES ('d287b4b3-16ac-4b83-800e-42a6d64d6df1',
        'Test', 'Test', 'test@test.fr',
        '$2a$06$bwpaSKPLACLvlg/SW/r1hOd9Cadf9U0hdQB/W2Xp5XW7mn0ykorCm', -- 1pwdTest?
        'ROLE_USER');

INSERT INTO files (id, name, type, file, author, added_by)
VALUES ('3aa1c8f4-14dc-499b-a876-0c6c2c497ec8',
        'SDF Test', 'SDF', '
  ACD/Labs10101814312D

  8  8  0  0  0  0  0  0  0  0  9 V2000
    1.1523   -0.6648    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0
    0.0000    0.0000    0.0000 O   0  0  0  0  0  0  0  0  0  0  0  0
    1.1523   -1.9943    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0
    2.3045   -2.6591    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0
    0.0000   -2.6591    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0
    2.3045   -3.9886    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0
    0.0000   -3.9886    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0
    1.1523   -4.6534    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0
  1  2  2  0  0  0  0
  1  3  1  0  0  0  0
  3  4  2  0  0  0  0
  3  5  1  0  0  0  0
  4  6  1  0  0  0  0
  5  7  2  0  0  0  0
  6  8  2  0  0  0  0
  7  8  1  0  0  0  0
M  ZZC   1 7
M  ZZC   2 8
M  ZZC   3 1
M  ZZC   4 2
M  ZZC   5 6
M  ZZC   6 3
M  ZZC   7 5
M  ZZC   8 4
M  END
>  <ID>
35

>  <Quaternaries>
3	136.76

>  <Tertiaries>
1	192.12
4	129.8
5	129.8
6	129.17
7	129.17
8	134.48

>  <Secondaries>

>  <Primaries>


>  <Formula>
C7H6O

>  <FW>
106.1219

>  <CAS>
CAS-100-52-7

>  <Name>
Benzaldehyde

>  <Predicted 13C shifts>
1[3] 	136.76
2[4] 	129.8
3[6] 	129.17
4[8] 	134.48
5[7] 	129.17
6[5] 	129.8
7[1] 	192.12

>  <CNMR_SHIFTS>
0:5[7]|129.17;1:3[6]|129.17;2:6[5]|129.80;3:2[4]|129.80;4:4[8]|134.48;5:1[3]|136.76;6:7[1]|192.12

>  <HNMR_SHIFTS>

>  <CNMR_CALC_SHIFTS>

>  <HNMR_CALC_SHIFTS>

>  <NMR_CONSTANTS>

$$$$',
        'Test', 'd287b4b3-16ac-4b83-800e-42a6d64d6df1'),
       ('1b8c7f80-559f-4c33-9c65-86bab55e4ada',
        'SPECTRUM Test', 'SPECTRUM', '214.84,0.000478
212.62,0.003509
170.84,0.000577
136.81,0.000560
133.84,0.000280
120.73,0.000728
108.46,0.000895
74.25,0.001400
73.74,0.000811
71.59,0.010642
69.90,0.000827
67.77,0.000752
57.30,0.001403
55.98,0.009153
50.96,0.009488
50.21,0.012609
48.11,0.001438
48.03,0.000841
47.08,0.001604
45.15,0.013252
42.67,0.000889
41.16,0.000745
41.01,0.001475
35.58,0.008714
35.15,0.000840
34.64,0.013709
34.54,0.001391
34.34,0.001408
34.03,0.009436
33.01,0.001930
32.91,0.000321
31.74,0.012754
31.58,0.004245
31.54,0.000844
31.46,0.001505
31.41,0.000613
30.89,0.000957
30.68,0.000872
29.68,0.000564
29.50,0.001369
29.26,0.000728
28.98,0.004102
27.99,0.000912
27.95,0.009090
27.68,0.001998
27.01,0.001326
26.99,0.001455
26.39,0.001271
25.97,0.008120
25.89,0.011284
24.28,0.000872
23.58,0.000869
23.56,0.001410
23.20,0.013013
23.13,0.000434
22.91,0.004037
22.46,0.000878
22.40,0.009306
22.33,0.012951
22.12,0.001415
21.58,0.001678
21.44,0.001088
21.33,0.008811
21.29,0.001224
21.13,0.012861
21.00,0.001372
20.92,0.000854
20.84,0.001465
20.81,0.001013
20.00,0.001278
19.94,0.000618
18.79,0.008918
16.46,0.001404
16.17,0.012243
8.20,0.000465
',
        'Test', 'd287b4b3-16ac-4b83-800e-42a6d64d6df1'),
       ('e4c4696e-e024-4a90-a975-bac150343b22',
        'DEPT90 Test', 'DEPT90', '136.81,0.000596
120.73,0.001236
74.25,0.002664
71.59,0.019165
67.77,0.001479
57.30,0.002148
55.98,0.014769
50.97,0.000568
50.21,0.019651
48.02,0.001402
47.08,0.002685
45.15,0.000966
41.16,0.001106
35.58,0.012448
34.64,0.001034
34.54,0.001961
34.02,0.000506
33.00,0.003081
31.74,0.020089
31.46,0.002505
29.67,0.000798
29.26,0.001172
27.01,0.001958
26.38,0.002362
25.97,0.012450
25.89,0.017994
23.20,0.001225
22.39,0.001151
22.33,0.001570
21.33,0.001627
21.13,0.002706
18.79,0.001747
16.17,0.002519
',
        'Test', 'd287b4b3-16ac-4b83-800e-42a6d64d6df1'),
       ('71764318-4565-4c74-bb97-0985b7a0e497',
        'DEPT135 Test', 'DEPT135', '136.81,0.000387
120.73,0.000778
118.54,0.000287
111.75,-0.000413
108.46,-0.001277
77.36,0.000288
74.25,0.001832
71.59,0.012383
67.77,0.000952
57.30,0.001367
55.98,0.009720
51.66,0.000296
50.96,-0.012672
50.21,0.013017
48.11,-0.002091
48.02,0.000911
47.08,0.001839
45.15,-0.019423
42.66,-0.001251
41.16,0.000803
41.01,-0.002522
40.40,-0.000273
35.58,0.008388
35.15,-0.001135
34.64,-0.018791
34.54,0.001223
34.47,-0.000255
34.34,-0.002219
34.02,-0.012420
33.00,0.002114
32.91,-0.000290
31.74,0.013330
31.58,-0.005017
31.54,-0.000840
31.46,0.001704
31.41,-0.000803
30.88,-0.001108
30.67,-0.001087
30.46,-0.000280
30.16,0.000268
29.67,0.000555
29.50,-0.001881
29.26,0.000812
28.98,0.005732
28.75,-0.000252
27.99,-0.001269
27.95,-0.013011
27.68,0.002680
27.14,-0.000344
27.01,0.001177
26.99,-0.002016
26.38,0.001552
25.97,0.008370
25.89,0.012160
24.28,-0.001208
23.58,0.001113
23.55,-0.002042
23.41,0.000328
23.20,-0.017312
23.02,-0.000325
22.91,-0.004941
22.46,0.001130
22.39,0.013930
22.33,0.019545
22.21,0.000383
22.12,0.002479
21.92,0.000296
21.89,0.000421
21.58,0.002389
21.44,0.001929
21.39,0.000261
21.33,0.012689
21.29,0.001852
21.12,0.019169
21.00,0.002152
20.91,0.001049
20.84,0.002389
20.81,0.001457
20.00,0.001969
19.94,-0.000753
18.79,0.013246
18.63,0.000283
16.46,0.002068
16.17,0.017605
8.20,0.000593
',
        'Test', 'd287b4b3-16ac-4b83-800e-42a6d64d6df1');
